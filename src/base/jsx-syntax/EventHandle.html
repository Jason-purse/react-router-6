<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件处理</title>
</head>
<body>
<div id="app"></div>
<script src="../../common/react.development.js" type="text/javascript"></script>
<script src="../../common/react-dom.development.js" type="text/javascript"></script>
<script src="../../common/babel.min.js" type="text/javascript"></script>
<script src="../../common/prop-types.js" type="text/javascript"></script>
<script type="text/babel">
    class App extends React.Component {
        constructor(props) {
            super(props);
            this.state = {
                loginData: {
                    // 由于使用了响应式函数,那么render 也会带动其他数据刷新 ..
                    username: "",
                    username1: "",
                    password: "" ,
                    password1: ""
                }
            }
        }

        handleSubmit = event => {
            const {username,password} = this.state.loginData;
            alert(`${username} - ${password}`)
            event.preventDefault()
            return false
        }

        render() {
           return (
               <div>
                   <form action="http://www.atguigu.com" onSubmit= {this.handleSubmit}>
                       用户名:<input onChange={event => {
                       this.state.loginData.username = event.target.value;
                       this.setState({loginData: {...this.state.loginData,username1: event.target.value}})
                   }} type="text"/>
                       密 码 :<input  onChange={event => {
                       this.state.loginData.password = event.target.value;
                       this.setState({loginData: {...this.state.loginData,password1: event.target.value}})
                   }} type="password" />
                       <button>login</button>
                   </form>
                   {console.log("render .....")}
                   // 响应式操作
                   <button onClick={() => {
                       this.setState({loginData: {...this.state.loginData,password: "password"}})
                   }}>触发render</button>

                   <p>输入内容显示</p>
                   <div>
                       <p>{this.state.loginData.username}</p>
                       <p>{this.state.loginData.password}</p>
                   </div>
                   <p>响应式显示</p>
                   <div>
                       <p>{this.state.loginData.username1}</p>
                       <p>{this.state.loginData.password1}</p>
                   </div>
               </div>


           )
        }
    }

    ReactDOM.render(<App/>, document.querySelector("#app"))
</script>

</body>
</html>
